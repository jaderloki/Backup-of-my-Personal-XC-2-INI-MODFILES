;*******************************************************************************************
;  FILE:   Psionics Ex Machina. Core ini                                
;  
;	File created	25/07/20    21:00
;	LAST UPDATED   	17/08/24	16:30
;
;	Psi bonus to the amps and Loot Tables, 
;	--updated with more MZ GEMS, cofig provided by FireBrand on discord
;
;*******************************************************************************************
[XComGame.X2Ability_ItemGrantedAbilitySet]
-PSIAMP_CV_STATBONUS=0
-PSIAMP_MG_STATBONUS=20
-PSIAMP_BM_STATBONUS=40

+PSIAMP_CV_STATBONUS=10
+PSIAMP_MG_STATBONUS=20
+PSIAMP_BM_STATBONUS=30

;*******************************************************************************************
[XComGame.X2LootTableManager]

;5% chance of each PCS .. missing PCSs converted to Meld
+LootTables = ( TableName = "pexmPCS0", \\
	Loots[0]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_MZUnshakableWill",		RollGroup=1), \\
	Loots[1]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_Fortress",				RollGroup=1), \\
	Loots[2]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_Solace",				RollGroup=1), \\
	Loots[3]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_Sustain",				RollGroup=1), \\
	Loots[4]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_BS_Unstable",			RollGroup=1), \\
	Loots[5]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_BS_PsionicAtrophy",	RollGroup=1), \\
	Loots[6]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_BS_BattleMeditation",	RollGroup=1), \\
	Loots[7]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_BS_MindOverMatter",	RollGroup=1), \\
	Loots[8]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_BS_MindThief",			RollGroup=1), \\
	Loots[9]=(Chance=5,		MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_GrimyReinvigorate",	RollGroup=1), \\
	Loots[10]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_MZRegenerate",			RollGroup=1), \\
	Loots[11]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_GrimyWillToSurvive",	RollGroup=1), \\
	Loots[12]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_ABB_TrialByFire",		RollGroup=1), \\
	Loots[13]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_ABB_Parkour",			RollGroup=1), \\
	Loots[14]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_F_Concentration",		RollGroup=1), \\
	Loots[15]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_F_Renewal",			RollGroup=1), \\
	Loots[16]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_F_Steadfast",			RollGroup=1), \\
	Loots[17]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_F_Adrenaline",			RollGroup=1), \\
	Loots[18]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_TargetDefinition",		RollGroup=1), \\
	Loots[19]=(Chance=5,	MinCount=1,	MaxCount=1,	TemplateName="PCSPsi_WallPhasing",			RollGroup=1) )

;4% chance of each Tier1 GEM,  .. missing GEMs converted to Meld
+LootTables = ( TableName = "pexmGEM1", \\
	Loots[0]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZHellishRebuke",			RollGroup=1), \\
	Loots[1]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_Insanity",				RollGroup=1), \\
	Loots[2]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_Schism",					RollGroup=1), \\
	Loots[3]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_Inspire",					RollGroup=1), \\
	Loots[4]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_IRI_PsiReanimation",		RollGroup=1), \\
	Loots[5]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_IRI_PhaseWalk",			RollGroup=1), \\
	Loots[6]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZBetrayal",				RollGroup=1), \\
	Loots[7]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZDisable",				RollGroup=1), \\
	Loots[8]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZKineticPush",			RollGroup=1), \\
	Loots[9]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZMalaise",				RollGroup=1), \\
	Loots[10]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZMindSoothe",			RollGroup=1), \\
	Loots[11]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPanacea",				RollGroup=1), \\
	Loots[12]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPsiPanic",				RollGroup=1), \\
	Loots[13]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPsiBlind",				RollGroup=1), \\
	Loots[14]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZRayzeelSong",			RollGroup=1), \\
	Loots[15]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZAcidBall",				RollGroup=1), \\
	Loots[16]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZAcidSpray",				RollGroup=1), \\
	Loots[17]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZBurningHands",			RollGroup=1), \\
	Loots[18]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPhantasmalPrison",		RollGroup=1), \\
	Loots[19]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZFetidBreath",			RollGroup=1), \\
	Loots[20]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZStormBreath",			RollGroup=1), \\
	Loots[21]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPsiSleep",				RollGroup=1), \\
	Loots[22]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPoisonBall",			RollGroup=1), \\
	Loots[23]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZKineticPull",			RollGroup=1), \\
	Loots[24]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZKineticRescue",			RollGroup=1) )

;4% chance of each Tier2 GEM,  .. missing GEMs converted to Meld
+LootTables = ( TableName = "pexmGEM2", \\
	Loots[0]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZDelayedBlastFireball",	RollGroup=1), \\
	Loots[1]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_SoulSteal",				RollGroup=1), \\
	Loots[2]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_Stasis",					RollGroup=1), \\
	Loots[3]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_StasisShield",			RollGroup=1), \\
	Loots[4]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_SoulFire",				RollGroup=1), \\
	Loots[5]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_BS_MCDetonate",			RollGroup=1), \\
	Loots[6]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_IRI_Soulmerge",			RollGroup=1), \\
	Loots[7]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_IRI_Soulstorm",			RollGroup=1), \\
	Loots[8]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZKineticLance",			RollGroup=1), \\
	Loots[9]=(Chance=4,		MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPsiHeal",				RollGroup=1), \\
	Loots[10]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZRayOfLife",				RollGroup=1), \\
	Loots[11]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZRestoreLife",			RollGroup=1), \\
	Loots[12]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZFireball",				RollGroup=1), \\
	Loots[13]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_IRI_TemplarShield",		RollGroup=1), \\
	Loots[14]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZCausticLance",			RollGroup=1), \\
	Loots[15]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZSearingLance",			RollGroup=1), \\
	Loots[16]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZMassSleep",				RollGroup=1), \\
	Loots[17]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZBoulderCrush",			RollGroup=1), \\
	Loots[18]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZEarthHeal",				RollGroup=1), \\
	Loots[19]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZFireWhip",				RollGroup=1), \\
	Loots[20]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZEvilGaze",				RollGroup=1), \\
	Loots[21]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZShiningAir",			RollGroup=1), \\
	Loots[22]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZThunderousRoar",		RollGroup=1), \\
	Loots[23]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZPsiShield",				RollGroup=1), \\
	Loots[24]=(Chance=4,	MinCount=1,	MaxCount=1,	TemplateName="GEM_F_MindBlast",				RollGroup=1) )

;10% chance of each Tier3 GEM,  .. missing GEMs converted to Meld
+LootTables = ( TableName = "pexmGEM3", \\
	Loots[0]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZMachinaPuppeteer",		RollGroup=1), \\
	Loots[1]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_Domination",				RollGroup=1), \\
	Loots[2]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_NullLance",				RollGroup=1), \\
	Loots[3]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_VoidRift",				RollGroup=1), \\
	Loots[4]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_IRI_Nullward",			RollGroup=1), \\
	Loots[5]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZMindControl",			RollGroup=1), \\
	Loots[6]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZVoidConduit",			RollGroup=1), \\
	Loots[7]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZWhiteFlame",			RollGroup=1), \\
	Loots[8]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZMassPanic",				RollGroup=1), \\
	Loots[9]=(Chance=10,	MinCount=1,	MaxCount=1,	TemplateName="GEM_MZAllCreation",			RollGroup=1) )

;weighted GEMS table
+LootTables = ( TableName = "pexmGEMS", \\
	Loots[0]=(Chance=50,    MinCount=1, MaxCount=1, TableRef="pexmGEM1", RollGroup=1), \\
	Loots[1]=(Chance=35,    MinCount=1, MaxCount=1, TableRef="pexmGEM2", RollGroup=1), \\
	Loots[2]=(Chance=15,    MinCount=1, MaxCount=1, TableRef="pexmGEM3", RollGroup=1) )

;70% chance of small MELD drop, 30% chance of large MELD drop
+LootTables = ( TableName = "pexmMELD", \\
	Loots[0]=(Chance=70,	MinCount=1,	MaxCount=5, TemplateName="InertMeld", RollGroup=1), \\
	Loots[1]=(Chance=30,	MinCount=5,	MaxCount=10, TemplateName="InertMeld", RollGroup=1) )

; adds PexM loot tables for stuff you can get from enemy drops or the black market
+LootTables = ( TableName = "pexmMAIN",	\\
	Loots[0]=(Chance=20,	MinCount=1, MaxCount=1, TableRef="pexmPCS0", 	RollGroup=1), \\
	Loots[1]=(Chance=20,	MinCount=1, MaxCount=1, TableRef="pexmGEM1", 	RollGroup=1), \\
	Loots[2]=(Chance=20,	MinCount=1, MaxCount=1, TableRef="pexmGEM2", 	RollGroup=1), \\
	Loots[3]=(Chance=20,	MinCount=1, MaxCount=1, TableRef="pexmGEM3", 	RollGroup=1), \\
	Loots[4]=(Chance=20,	MinCount=1, MaxCount=1, TableRef="pexmMELD", 	RollGroup=1) )
