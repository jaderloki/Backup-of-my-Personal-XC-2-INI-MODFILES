[XComGame.XComGameState_AIGroup]
+FallbackExclusionList=AHWCyberdisc

[XComGame.XGAIBehavior]
+AoEProfiles=( Profile=AHWCyberdiscBombardProfile, Ability=AHWCyberdiscBombard, bUsePrecomputePath=1, MinTargets=2, bFailOnObjectiveFire=0, bRequireLoS=1)
+AoEProfiles=( Profile=AHWCyberdiscBombardAnyProfile, Ability=AHWCyberdiscBombard, bUsePrecomputePath=1, MinTargets=1, bFailOnFriendlyFire=1, bFailOnObjectiveFire=0, bRequireLoS=1)
+AoEProfiles=( Profile=AHWDeathBlossomProfile, Ability=AHWCyberdiscDeathBlossom, MinTargets=1, bTestTargetEffectsApply=true)

+AoERepeatAttackExclusionList="AHWCyberdiscDeathBlossom"
+AoERepeatAttackExclusionList="AHWCyberdiscBombard"

; To Do - Credit Nelvisis and RustyDios for the Target Icons that were used as a base
; To Do - Credit Mr Danger Dude for the Viper Animations
; To Do - AI Action Variety.
; To Do - Unique Abilities for Archon Variants

[XComGame.X2AIBTBehaviorTree]
; Reaction Behaviors

+Behaviors=(BehaviorName=ScamperRoot_AHWCyberdisc, NodeType=Selector, \\
		Child[0]=CounterBeaglerushManeuver, \\
		Child[1]=TryOverwatch, \\
		Child[2]=SkipMove)

; Cyberdisc
+Behaviors=(BehaviorName="AHWCyberdisc::CharacterRoot", NodeType=Selector, Child[0]=TryRequiemPodJobs, Child[1]=GenericGreenMovement, Child[2]=AHWCyberdiscRedAlert, Child[3]=GenericAlertHandler)
+Behaviors=(BehaviorName=AHWCyberdiscRedAlert, NodeType=Sequence, Child[0]=IsRedAlert, Child[1]=AHWCyberdiscRedAbilitySelector)
+Behaviors=(BehaviorName=AHWCyberdiscRedAbilitySelector, NodeType=Selector, Child[0]=AHWCyberdiscRedFirstAction, Child[1]=AHWCyberdiscRedLastAction)

+Behaviors=(BehaviorName=AHWCyberdiscRedFirstAction, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=AHWCyberdiscFirstActionSelector)
+Behaviors=(BehaviorName=AHWCyberdiscFirstActionSelector, NodeType=Selector, Child[0]=AHWCyberdiscRedClosedFirstAction, Child[1]=AHWCyberdiscOpenFirstActionSelector)

+Behaviors=(BehaviorName=AHWCyberdiscRedClosedFirstAction, NodeType=Sequence, Child[0]=AffectedByEffect-GatekeeperClosedEffect, Child[1]=AHWCyberdiscClosedFirstActionSelector)
+Behaviors=(BehaviorName=AHWCyberdiscClosedFirstActionSelector, NodeType=Selector, Child[0]=TryAHWCyberdiscBombardOpen, Child[1]=CyberdiscConsiderDeathblossomOrOpen, Child[2]=AHWCyberdiscOpenShootFlanked, Child[3]=NCMoveAggressive, Child[4]=CyberdiscConsiderShootOrOverwatch, Child[5]=HuntEnemy)
+Behaviors=(BehaviorName=AHWCyberdiscOpenFirstActionSelector, NodeType=Selector, Child[0]=CyberdiscMaybeBombardAnySpecial, Child[1]=TryAHWCyberdiscBombard, Child[2]=CyberdiscMaybeBombardAny, Child[3]=TryAHWDeathBlossomClose, Child[4]=TaipanHuntTheVulnerable, Child[5]=AHWDetonateDestructible, Child[6]=TryShootOrReloadOrOverwatch, Child[7]=NCMoveAggressive, Child[8]=HuntEnemy)

+Behaviors=(BehaviorName=AHWCyberdiscRedLastAction, NodeType=Sequence, Child[0]=IsLastActionPoint, Child[1]=AHWCyberdiscLastActionSelector)
+Behaviors=(BehaviorName=AHWCyberdiscLastActionSelector, NodeType=Selector, Child[0]=AHWCyberdiscRedClosedLastAction, Child[1]=AHWCyberdiscOpenLastActionSelector)

+Behaviors=(BehaviorName=AHWCyberdiscRedClosedLastAction, NodeType=Sequence, Child[0]=AffectedByEffect-GatekeeperClosedEffect, Child[1]=AHWCyberdiscClosedLastActionSelector)
+Behaviors=(BehaviorName=AHWCyberdiscClosedLastActionSelector, NodeType=Selector, Child[0]=TryAHWDeathBlossom, Child[1]=TryAHWCyberdiscBombardOpen, Child[2]=AHWCyberdiscOpenShootFlanked, Child[3]=CyberdiscConsiderShootOrOverwatch, Child[4]=NCMoveAggressive, Child[5]=HuntEnemy)
+Behaviors=(BehaviorName=AHWCyberdiscOpenLastActionSelector, NodeType=Selector, Child[0]=CyberdiscMaybeBombardAnySpecial, Child[1]=TryAHWCyberdiscBombard, Child[2]=CyberdiscMaybeBombardAny, Child[3]=TryAHWDeathBlossomClose, Child[4]=TaipanHuntTheVulnerable, Child[5]=AHWDetonateDestructible, Child[6]=TryShootOrReloadOrOverwatch, Child[7]=NCMoveAggressive, Child[8]=HuntEnemy)


+Behaviors=(BehaviorName=AHWCyberdiscOpenShootFlanked, NodeType=Sequence, Child[0]=IsAbilityReady-StandardShot, Child[1]=SelectAnyFlankedTarget, Child[2]=SelectAbility-GatekeeperOpen)
+Behaviors=(BehaviorName=TryAHWDeathBlossomClose, NodeType=Sequence, Child[0]=IsAbilityReady-AHWCyberdiscDeathBlossom, Child[1]=FindPotentialAoETargets-AHWDeathBlossomProfile, Child[2]=SelectAoETarget-AHWDeathBlossomProfile, Child[3]=TryGatekeeperClose)
+Behaviors=(BehaviorName=TryAHWDeathBlossom, NodeType=Sequence, Child[0]=IsAbilityAvailable-AHWCyberdiscDeathBlossom, Child[1]=FindPotentialAoETargets-AHWDeathBlossomProfile, Child[2]=SelectAoETarget-AHWDeathBlossomProfile, Child[3]=SelectAbility-AHWCyberdiscDeathBlossom)
+Behaviors=(BehaviorName=CyberdiscMaybeBombardAny, NodeType=Sequence, Child[0]=IsDifficultyAboveNormal, Child[1]=AllowAnyReshephBombardment, Child[2]=RandConsiderResheph)
+Behaviors=(BehaviorName=CyberdiscMaybeBombardAnySpecial, NodeType=Sequence, Child[0]=AffectedByEffect-ReshephOverdrive, Child[1]=TryAHWCyberdiscBombardAny)
+Behaviors=(BehaviorName=AllowAnyReshephBombardment, NodeType=StatCondition, Param[0]=TopHitChance, Param[1]="<=", Param[2]="45")
+Behaviors=(BehaviorName=RandConsiderResheph, NodeType=RandSelector, Child[0]=TryAHWCyberdiscBombardAny, Param[0]=50, Child[1]=MoveMeleeFANATICUnsafe, Param[1]=50)
+Behaviors=(BehaviorName=CyberdiscConsiderDeathblossomOrOpen, NodeType=RandSelector, Child[0]=TryDeathBlossomOptions, Param[0]=50, Child[1]=TryGatekeeperOpen, Param[1]=50)
+Behaviors=(BehaviorName=CyberdiscConsiderShootOrOverwatch, NodeType=RandSelector, Child[0]=TryOverwatch, Param[0]=50, Child[1]=TryGatekeeperOpen, Param[1]=50)
+Behaviors=(BehaviorName=CyberdiscConsiderShootOrOverwatch, NodeType=RandSelector, Child[0]=TryOverwatch, Param[0]=50, Child[1]=TryGatekeeperOpen, Param[1]=50)
+Behaviors=(BehaviorName=AffectedByEffect-ReshephOverdrive, NodeType=Condition)

+Behaviors=(BehaviorName=IsAbilityReady-AHWCyberdiscDeathBlossom, NodeType=Condition)
+Behaviors=(BehaviorName=IsAbilityAvailable-AHWCyberdiscDeathBlossom, NodeType=Condition)
+Behaviors=(BehaviorName=SelectAbility-AHWCyberdiscDeathBlossom, NodeType=Action)
+Behaviors=(BehaviorName=FindPotentialAoETargets-AHWDeathBlossomProfile, NodeType=Action)
+Behaviors=(BehaviorName=SelectAoETarget-AHWDeathBlossomProfile, NodeType=Action)

+Behaviors=(BehaviorName=TryDeathBlossomOptions, NodeType=Selector, Child[0]=TryAHWDeathBlossom, Child[1]=FirstTurnMoveForDeathBlossom)
+Behaviors=(BehaviorName=FirstTurnMoveForDeathBlossom, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=IsAbilityAvailable-AHWCyberdiscDeathBlossom, Child[2]=IsAbilityAvailable-StandardMove, Child[3]=FindMultiTargetDestination-AHWDeathBlossomProfile, Child[4]=SelectAbility-StandardMove, Child[5]=SSSetPreselectedAbility-AHWCyberdiscDeathBlossom)
+Behaviors=(BehaviorName=SSSetPreselectedAbility-AHWCyberdiscDeathBlossom, NodeType=Successor, Child[0]=SetPreselectedAbility-AHWCyberdiscDeathBlossom)
+Behaviors=(BehaviorName=SetPreselectedAbility-AHWCyberdiscDeathBlossom, NodeType=Action)
+Behaviors=(BehaviorName=FindMultiTargetDestination-AHWDeathBlossomProfile, NodeType=Action)



+Behaviors=(BehaviorName=TryAHWCyberdiscBombardOpen, NodeType=Sequence, Child[0]=IsAbilityReady-AHWCyberdiscBombard, Child[1]=FindPotentialAoETargets-AHWCyberdiscBombardProfile, Child[2]=SelectAoETarget-AHWCyberdiscBombardProfile, Child[3]=TryGatekeeperOpen)
+Behaviors=(BehaviorName=TryAHWCyberdiscBombard, NodeType=Sequence, Child[0]=IsAbilityAvailable-AHWCyberdiscBombard, Child[1]=FindPotentialAoETargets-AHWCyberdiscBombardProfile, Child[2]=SelectAoETarget-AHWCyberdiscBombardProfile, Child[3]=SelectAbility-AHWCyberdiscBombard)
+Behaviors=(BehaviorName=TryAHWCyberdiscBombardAny, NodeType=Sequence, Child[0]=IsAbilityAvailable-AHWCyberdiscBombard, Child[1]=FindPotentialAoETargets-AHWCyberdiscBombardAnyProfile, Child[2]=SelectAoETarget-AHWCyberdiscBombardAnyProfile, Child[3]=SelectAbility-AHWCyberdiscBombard)

+Behaviors=(BehaviorName=FindPotentialAoETargets-AHWCyberdiscBombardProfile, NodeType=Action)
+Behaviors=(BehaviorName=FindPotentialAoETargets-AHWCyberdiscBombardAnyProfile, NodeType=Action)
+Behaviors=(BehaviorName=FindPotentialAoETargets-AHWCyberdiscBombardSpecialProfile, NodeType=Action)
+Behaviors=(BehaviorName=FindPotentialAoETargets-AHWCyberdiscBombardSpecialAnyProfile, NodeType=Action)
+Behaviors=(BehaviorName=SelectAoETarget-AHWCyberdiscBombardSpecialProfile, NodeType=Action)
+Behaviors=(BehaviorName=SelectAoETarget-AHWCyberdiscBombardSpecialAnyProfile, NodeType=Action)
+Behaviors=(BehaviorName=SelectAoETarget-AHWCyberdiscBombardProfile, NodeType=Action)
+Behaviors=(BehaviorName=SelectAoETarget-AHWCyberdiscBombardAnyProfile, NodeType=Action)

+Behaviors=(BehaviorName=IsAbilityReady-AHWCyberdiscBombard, NodeType=Condition)
+Behaviors=(BehaviorName=IsAbilityAvailable-AHWCyberdiscBombard, NodeType=Condition)
+Behaviors=(BehaviorName=SelectAbility-AHWCyberdiscBombard, NodeType=Action)
