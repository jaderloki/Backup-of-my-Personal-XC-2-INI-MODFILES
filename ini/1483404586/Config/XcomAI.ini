;A configuration File
[XComGame.X2AIBTBehaviorTree]

;Custodian Lightning Hands Targetting Behavior
+Behaviors=(BehaviorName=HasValidTarget-CustodianLightningHands, NodeType=Condition)
+Behaviors=(BehaviorName=SetTargetStack-CustodianLightningHands, NodeType=Action)

+Behaviors=(BehaviorName=SelectTargetForCustodianLightningHands, NodeType=Sequence, Child[0]=SetTargetStack-CustodianLightningHands, Child[1]=GenericSelectBestTarget, Child[2]=HasValidTarget-CustodianLightningHands)
+Behaviors=(BehaviorName=SelectTargetForCustodianLightningHands_Ideal, NodeType=Sequence, Child[0]=SetTargetStack-CustodianLightningHands, Child[1]=SelectTarget_Opportunist, Child[2]=HasValidTarget-CustodianLightningHands)
+Behaviors=(BehaviorName=SelectTargetForCustodianLightningHands_Favorable, NodeType=Sequence, Child[0]=SetTargetStack-CustodianLightningHands, Child[1]=SelectTarget_Favorable, Child[2]=HasValidTarget-CustodianLightningHands)

+Behaviors=(BehaviorName=TryCustodianLightningHandsPriorityTarget, NodeType=Sequence, Child[0]=IsAbilityAvailable-CustodianLightningHands, Child[1]=SelectPriorityTargetForCustodianLightningHands, Child[2]=SelectAbility-CustodianLightningHands)
+Behaviors=(BehaviorName=SelectPriorityTargetForCustodianLightningHands, NodeType=Sequence, Child[0]=SetTargetStack-CustodianLightningHands, Child[1]=SelectPriorityTarget, Child[2]=HasValidTarget-CustodianLightningHands)

+Behaviors=(BehaviorName=TryAttackPriorityTarget, NodeType=Sequence, Child[0]=HasPriorityTarget, Child[1]=AttackPriorityTarget)

;Custodian Lightning Hands
+Behaviors=(BehaviorName=TryCustodianLightningHands, NodeType=Sequence, Child[0]=IsAbilityAvailable-CustodianLightningHands, Child[1]=SelectTargetForCustodianLightningHands, Child[2]=SelectAbility-CustodianLightningHands)
+Behaviors=(BehaviorName=IsAbilityAvailable-CustodianLightningHands, NodeType=Condition)
+Behaviors=(BehaviorName=SelectAbility-CustodianLightningHands, NodeType=Action)

;Destroyer Gauntlet
+EquivalentAbilities=(KeyName=StandardMelee, EquivalentAbilityName[0]=DestroyerGauntlet)

;Custodian Master Rockets
+EquivalentAbilities=(KeyName=ThrowGrenade, EquivalentAbilityName[0]=CustodianRockets)

;Custodian
+Behaviors=(BehaviorName="AdventCustodianRoot", NodeType=Selector, Child[0]=TryJob, Child[1]=GenericGreenMovement, Child[2]=AdventCustodian_RedAlert, Child[3]=GenericAlertHandler)
+Behaviors=(BehaviorName=AdventCustodian_RedAlert, NodeType=Sequence, Child[0]=IsRedAlert, Child[1]=AdventCustodian_RedAbilitySelector)
+Behaviors=(BehaviorName=AdventCustodian_RedAbilitySelector, NodeType=Selector, Child[0]=MimicBeaconBehavior, Child[1]=AdventCustodianRedFirstAction, Child[2]=AdventCustodianRedLastAction)

+Behaviors=(BehaviorName=AdventCustodianRedFirstAction, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=AdventCustodianRedFirstActionSelector)
+Behaviors=(BehaviorName=AdventCustodianRedFirstActionSelector, NodeType=Selector, \\
	Child[0]=TryCustodianLightningHands, \\
	Child[1]=TryStandardMeleeFANATICUnsafe, \\
	Child[2]=HuntEnemyUnsafe, \\
	Child[3]=TryShootOrReload)
;Remember to move lightning hands down the list for Exalted Version to see if they try to flank before firing pistol to make them extra bullshitier

+Behaviors=(BehaviorName=AdventCustodianRedLastAction, NodeType=Sequence, Child[0]=IsLastActionPoint, Child[1]=AdventCustodianRedLastActionSelector)
+Behaviors=(BehaviorName=AdventCustodianRedLastActionSelector, NodeType=Selector, \\
	Child[0]=TryStandardMeleeFANATICUnsafe, \\
	Child[1]=TryShootOrReload, \\
	Child[2]=HuntEnemyUnsafe)


;Custodian Master
+Behaviors=(BehaviorName="AdventCustodianMasterRoot", NodeType=Selector, Child[0]=TryJob, Child[1]=GenericGreenMovement, Child[2]=AdventCustodianMaster_RedAlert, Child[3]=GenericAlertHandler)
+Behaviors=(BehaviorName=AdventCustodianMaster_RedAlert, NodeType=Sequence, Child[0]=IsRedAlert, Child[1]=AdventCustodianMaster_RedAbilitySelector)
+Behaviors=(BehaviorName=AdventCustodianMaster_RedAbilitySelector, NodeType=Selector, Child[0]=MimicBeaconBehavior, Child[1]=AdventCustodianMasterRedFirstAction, Child[2]=AdventCustodianMasterRedLastAction)

+Behaviors=(BehaviorName=AdventCustodianMasterRedFirstAction, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=AdventCustodianMasterRedFirstActionSelector)
+Behaviors=(BehaviorName=AdventCustodianMasterRedFirstActionSelector, NodeType=Selector, \\
	Child[0]=TryGrenade, \\
	Child[1]=TryStandardMeleeFANATICUnsafe, \\
	Child[2]=MoveNoCoverUnsafe, \\
	Child[3]=TryShootOrReload,)

+Behaviors=(BehaviorName=AdventCustodianMasterRedLastAction, NodeType=Sequence, Child[0]=IsLastActionPoint, Child[1]=AdventCustodianMasterRedLastActionSelector)
+Behaviors=(BehaviorName=AdventCustodianMasterRedLastActionSelector, NodeType=Selector, \\
	Child[0]=TryStandardMeleeFANATICUnsafe, \\
	Child[1]=TryShootOrReload, \\
	Child[2]=HuntEnemyUnsafe)