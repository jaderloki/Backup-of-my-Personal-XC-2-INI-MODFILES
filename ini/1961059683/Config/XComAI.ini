[XComGame.X2AIBTBehaviorTree]
; --- don't shoot if you're not an alien
; --- basically since non alien units don't really obey the objective target limits, never let them target the objective in the first place
-Behaviors=(BehaviorName=TryAttackPriorityTarget, NodeType=Sequence, Child[0]=HasPriorityTarget, Child[1]=AttackPriorityTarget)
+Behaviors=(BehaviorName=TryAttackPriorityTarget, NodeType=Sequence, Child[0]=IsTeam-eTeam_Alien, Child[1]=HasPriorityTarget, Child[2]=AttackPriorityTarget)

; ---------------- Custom AI behavior to find destination next to wounded / incapacitated ally  ----------------
+CustomNodes=(NodeTypeString="HereticCondition", ExtendsFromType="Condition", ClassName="RaiderFactionHereticGeth.X2AIBTCondition_NoObjectiveBehavior")
+Behaviors=(BehaviorName=IsObjectiveUnitOrAnObject, NodeType=HereticCondition)
+Behaviors=(BehaviorName=IsNotObjectiveUnitOrAnObject, NodeType=Inverter, Child[0]=IsObjectiveUnitOrAnObject)

;new shoot or reload or overwatch to avoid targeting civilians
+Behaviors=(BehaviorName=TryShootOrReloadOrOverwatch_Heretic, NodeType=Selector, Child[0]=ConsiderTakingOverwatch, Child[1]=ShootIfAvailable_Heretic, Child[2]=NeedsReload)
+Behaviors=(BehaviorName=ShootIfAvailable_Heretic, NodeType=Sequence, Child[0]=IsAbilityAvailable-StandardShot, Child[1]=SelectTargetForStandardShot_Heretic, Child[2]=SelectAbility-StandardShot)
+Behaviors=(BehaviorName=SelectTargetForStandardShot_Heretic, NodeType=Sequence, Child[0]=SetTargetStack-StandardShot, Child[1]=GenericSelectBestTarget_Heretic, Child[2]=HasValidTarget-StandardShot)

+Behaviors=(BehaviorName=GenericSelectBestTarget_Heretic, NodeType=RepeatUntilFail, Child[0]=GenericEvaluateTarget_Heretic)
+Behaviors=(BehaviorName=GenericEvaluateTarget_Heretic, NodeType=Sequence, Child[0]=SetNextTarget, Child[1]=GenericTargetEvaluations_Heretic, Child[2]=UpdateBestTarget);
+Behaviors=(BehaviorName=GenericTargetEvaluations_Heretic, NodeType=Sequence, Child[0]=TargetScoreHitChance, Child[1]=TargetScoreHealth, Child[2]=TargetScoreFlanking, Child[3]=TargetScoreMarked, Child[4]=ApplyDifficultyModifiers, Child[5]=TargetScoreInvalidateCivilians, Child[6]=IsNotObjectiveUnitOrAnObject, Child[7]=AvoidBoundAndPanickedTargets)


+Behaviors=(BehaviorName="HereticPyroRoot", NodeType=Selector, Child[0]=TryJob, Child[1]=GenericGreenMovement, Child[2]=HeretricPyro_RedAlert, Child[3]=GenericAlertHandler)
+Behaviors=(BehaviorName=HeretricPyro_RedAlert, NodeType=Sequence, Child[0]=IsRedAlert, Child[1]=HeretricPyro_RedAbilitySelector)
+Behaviors=(BehaviorName=HeretricPyro_RedAbilitySelector, NodeType=Selector, Child[0]=MimicBeaconBehavior, Child[1]=HeretricPyroRedFirstAction, Child[2]=HeretricPyroRedLastAction)

+Behaviors=(BehaviorName=HeretricPyroRedFirstAction, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=HeretricPyroRedFirstActionSelector)
+Behaviors=(BehaviorName=HeretricPyroRedFirstActionSelector, NodeType=Selector, \\
	Child[0]=DoIfFlankedMove, \\
	Child[1]=TryFlameThrowerPriority, \\
	Child[2]=TryMoveThenGrenadeAny, \\
	Child[3]=TryMoveThenFlameThrower, \\
	Child[4]=TryShootOrReloadOrOverwatch_Heretic, \\
	Child[5]=SelectMoveProfileByJob, \\
	Child[6]=HuntEnemyWithCover)

+Behaviors=(BehaviorName=HeretricPyroRedLastAction, NodeType=Sequence, Child[0]=IsLastActionPoint, Child[1]=HeretricPyroRedLastActionSelector)
+Behaviors=(BehaviorName=HeretricPyroRedLastActionSelector, NodeType=Selector, \\
	Child[0]=TryGrenadeAny, \\
	Child[1]=TryFlamethrower, \\
	Child[2]=TryShootOrReloadOrOverwatch_Heretic, \\
	Child[3]=HuntEnemyWithCover, \\
	Child[4]=SelectMove_JobOrAggressive)



; ---------------- Rogue XCom Assault AI ----------------
+Behaviors=(BehaviorName="HereticGethRoot", NodeType=Selector, Child[0]=TryJob, Child[1]=GenericGreenMovement, Child[2]=HereticGethAssault_RedAlert, Child[3]=GenericAlertHandler)
+Behaviors=(BehaviorName=HereticGethAssault_RedAlert, NodeType=Sequence, Child[0]=IsRedAlert, Child[1]=HereticGethAssault_RedAbilitySelector)
+Behaviors=(BehaviorName=HereticGethAssault_RedAbilitySelector, NodeType=Selector, Child[0]=MimicBeaconBehavior, Child[1]=HereticGethAssaultRedFirstAction, Child[2]=HereticGethAssaultRedLastAction)

+Behaviors=(BehaviorName=HereticGethAssaultRedFirstAction, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=HereticGethAssaultRedFirstActionSelector)
+Behaviors=(BehaviorName=HereticGethAssaultRedFirstActionSelector, NodeType=Selector, \\
	Child[0]=DoIfFlankedMove, \\
	Child[1]=SelectMove_JobOrAggressive, \\
	Child[2]=TryTwoTurnAttackSupportIfSafe, \\
	Child[3]=TryMoveThenGrenadeAny, \\
	Child[4]=TryShootOrReloadOrOverwatch_Heretic, \\
	Child[5]=HuntEnemyWithCover)

+Behaviors=(BehaviorName=HereticGethAssaultRedLastAction, NodeType=Sequence, Child[0]=IsLastActionPoint, Child[1]=HereticGethAssaultRedLastActionSelector)
+Behaviors=(BehaviorName=HereticGethAssaultRedLastActionSelector, NodeType=Selector, \\
	Child[0]=TryGrenadeAny, \\
	Child[1]=TryShootOrReloadOrOverwatch_Heretic, \\
	Child[2]=HuntEnemyWithCover, \\
	Child[3]=SelectMove_JobOrAggressive)