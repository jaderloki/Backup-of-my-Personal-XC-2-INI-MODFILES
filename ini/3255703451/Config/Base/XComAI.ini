[XComGame.X2AIBTBehaviorTree]
+Behaviors=(BehaviorName=HasValidTarget-MeristViperBite, NodeType=Condition)
+Behaviors=(BehaviorName=SetTargetStack-MeristViperBite, NodeType=Action)
+Behaviors=(BehaviorName=IsAbilityReady-MeristViperBite, NodeType=Condition)
+Behaviors=(BehaviorName=IsAbilityAvailable-MeristViperBite, NodeType=Condition)
+Behaviors=(BehaviorName=SelectAbility-MeristViperBite, NodeType=Action)

+Behaviors=(BehaviorName=TryMeristViperBite, NodeType=Sequence, Child[0]=IsAbilityReady-MeristViperBite, Child[1]=MeristViperBiteStepSelector)
+Behaviors=(BehaviorName=MeristViperBiteStepSelector, NodeType=Selector, Child[0]=MeristViperBiteAttack, Child[1]=MoveMeleeDefensiveIfFirstAbility)
+Behaviors=(BehaviorName=MeristViperBiteAttack, NodeType=Sequence, Child[0]=IsAbilityAvailable-MeristViperBite, Child[1]=SelectTargetForMeristViperBite, Child[2]=SelectAbility-MeristViperBite)

+Behaviors=(BehaviorName=SelectTargetForMeristViperBite, NodeType=Sequence, Child[0]=SetTargetStack-MeristViperBite, Child[1]=SelectBestTargetForStandardMelee, Child[2]=HasValidTarget-MeristViperBite)

+EquivalentAbilities=(KeyName=MeristViperBite, \\
    EquivalentAbilityName[0]=M31_ENEMY_ViperBite, \\
    EquivalentAbilityName[1]=M31_ENEMY_ViperBiteWithCrit)

+EquivalentAbilities=(KeyName=PoisonSpit, \\
    EquivalentAbilityName[0]=M31_ENEMY_PoisonSpit, \\
    EquivalentAbilityName[1]=M31_ENEMY_PoisonSpitWithDamage)


;   Copied from Iridar's Gene Mods

;   Have to use multiple selectors to ensure true random. If we used one selector and activated it multiple times, the result would always be the same.
+Behaviors=(BehaviorName=M31_BerserkerModRoot, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand1, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand1, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand2, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand2, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand3, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand3, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand4, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand4, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand5, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand5, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand6, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand6, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand7, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand7, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand8, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand8, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=33, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=33, Child[2]=M31_BerserkerModRand9, Param[2]=34)
+Behaviors=(BehaviorName=M31_BerserkerModRand9, NodeType=Randselector, Child[0]=M31_TryStandardMeleeOrMove, Param[0]=50, Child[1]=M31_ShootRandomEnemyForPanicOrReload, Param[1]=50)

;   Shoot a random enemy or reload if we can't.
;   NMelee a randome enemy, or reload if we can't.
+Behaviors=(BehaviorName=M31_ShootRandomEnemyForPanicOrReload, NodeType=Selector, Child[0]=ShootRandomEnemyForPanic, Child[1]=NeedsReload)
+Behaviors=(BehaviorName=M31_TryStandardMeleeOrMove, NodeType=Selector, Child[0]=TryStandardMelee, Child[1]=NeedsReload)

;   --> Copied from K's Officer Class
+Behaviors=(BehaviorName=M31_SidewinderMove, NodeType=Selector, \\
    Child[0]=FallBack, \\
    Child[1]=HighCoverFallback, \\
    Child[2]=FallBackUnsafe, \\
    Child[3]=DoCower, \\
    Child[4]=SkipMove)