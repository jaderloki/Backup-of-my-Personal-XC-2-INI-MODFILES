[XComGame.X2AIBTBehaviorTree]
; ---------------- Custom AI behavior to check for any revealed allies before calling  ----------------
+CustomNodes=(NodeTypeString="WOTCAdventReinforcementsCondition", ExtendsFromType="Condition", ClassName="WOTCAdventReinforcements.WOTCAdventReinforcements_X2AIBTConditions")
+Behaviors=(BehaviorName=ReinforcementsAlliesAndEnemiesCheck, NodeType=WOTCAdventReinforcementsCondition)

; --------------------Remove AdventCaptain's default first and last action point behaviour selectors --------------------------------------------------
-Behaviors=(BehaviorName=AdvCaptain_RedFirstActionSelector, NodeType=Selector, \\
	Child[0]=DoIfFlankedMove, \\
	Child[1]=TryMarkTargetOption, \\
	Child[2]=SelectMove_JobOrDefensive, \\
	Child[3]=AdvCaptainTryMoveThenGrenade, \\
	Child[4]=TryShootOrReloadOrOverwatch, \\
	Child[5]=HuntEnemyWithCover)

-Behaviors=(BehaviorName=AdvCaptain_RedLastActionSelector, NodeType=Selector, \\
	Child[0]=TryMarkTargetOption, \\
	Child[1]=AdvCaptainTryGrenade, \\
	Child[2]=TryShootOrReloadOrOverwatch, \\
	Child[3]=HuntEnemyWithCover, \\
	Child[4]=SelectMove_JobOrDefensive)

; --------------------Add "TryCallReinforcements" to the new AdventCaptain's first and last action point behaviour selectors --------------------------------------------------
+Behaviors=(BehaviorName=AdvCaptain_RedFirstActionSelector, NodeType=Selector, \\
	Child[0]=DoIfFlankedMove, \\
	Child[1]=TryMarkTargetOption, \\
	Child[2]=TryCallReinforcements, \\
	Child[3]=SelectMove_JobOrDefensive, \\
	Child[4]=AdvCaptainTryMoveThenGrenade, \\
	Child[5]=TryShootOrReloadOrOverwatch, \\
	Child[6]=HuntEnemyWithCover)

+Behaviors=(BehaviorName=AdvCaptain_RedLastActionSelector, NodeType=Selector, \\
	Child[0]=TryMarkTargetOption, \\
	Child[1]=TryCallReinforcements, \\
	Child[2]=AdvCaptainTryGrenade, \\
	Child[3]=TryShootOrReloadOrOverwatch, \\
	Child[4]=HuntEnemyWithCover, \\
	Child[5]=SelectMove_JobOrDefensive)

; ---------------- TryCallReinforcements behaviour --------------------------------------------
+Behaviors=(BehaviorName=TryCallReinforcements, NodeType=Sequence, \\
	Child[0]=IsAbilityAvailable-AdventCommander_CallReinforcements, \\
	Child[1]=ReinforcementsAlliesAndEnemiesCheck, \\
	Child[2]=SelectAbility-AdventCommander_CallReinforcements)

+Behaviors=(BehaviorName=IsAbilityAvailable-AdventCommander_CallReinforcements, NodeType=Condition)
+Behaviors=(BehaviorName=SelectAbility-AdventCommander_CallReinforcements, NodeType=Action)

; ---------------- ABA Support - Replace the native reinforcements AI --------------------------------------------
-Behaviors=(BehaviorName=TryCallReinforcementsABA, NodeType=Sequence, \\
	Child[0]=IsAbilityAvailable-ReinforceABA, \\
	Child[1]=MultipleEnemiesVisible, \\
	Child[2]=Reinforce_HasNoAllies, \\
	Child[3]=SelectAbility-ReinforceABA)

+Behaviors=(BehaviorName=TryCallReinforcementsABA, NodeType=Sequence, \\
	Child[0]=IsAbilityAvailable-AdventCommander_CallReinforcements, \\
	Child[1]=ReinforcementsAlliesAndEnemiesCheck, \\
	Child[2]=SelectAbility-AdventCommander_CallReinforcements)