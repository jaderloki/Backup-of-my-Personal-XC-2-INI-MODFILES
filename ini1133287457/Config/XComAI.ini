[XComGame.X2AIBTBehaviorTree]

; -------------------- Resistance Soldier AI BEHAVIOR TREE NODES BEGIN ------------
+Behaviors=(BehaviorName="ResistanceSoldier::CharacterRoot", NodeType=Selector, Child[0]=ResistanceSoldierFirstAction, Child[1]=ResistanceSoldierLastAction, Child[2]=GenericAlertHandler)

+Behaviors=(BehaviorName=ResistanceSoldierFirstAction, NodeType=Sequence, Child[0]=NotLastActionPoint, Child[1]=ResistanceSoldierFirstActionSelector)
+Behaviors=(BehaviorName=ResistanceSoldierFirstActionSelector, NodeType=Selector, \\
	Child[0]=ResistanceSoldierMoveIfNeedCover, \\
	Child[1]=TryShootOrReloadOrOverwatch, \\
	Child[2]=ResistanceSoldierMoveTowardValidTargets, \\
	Child[3]=SkipMove)
+Behaviors=(BehaviorName=ResistanceSoldierMoveTowardValidTargets, NodeType=Sequence, Child[0]=SelectPotentialTargetForResSoldier, Child[1]=RestrictToPotentialTargetRange-StandardShot, Child[2]=FindDestinationWithLoS-MWP_Standard, Child[3]=SelectAbility-StandardMove)
+Behaviors=(BehaviorName=SelectPotentialTargetForResSoldier, NodeType=Sequence, Child[0]=SetPotentialTargetStack, Child[1]=SelectBestTargetForResSoldier, Child[2]=HasValidTarget-Potential)
+Behaviors=(BehaviorName=SelectBestTargetForResSoldier, NodeType=RepeatUntilFail, Child[0]=EvaluatePotentialResSoldierTarget)
+Behaviors=(BehaviorName=EvaluatePotentialResSoldierTarget, NodeType=Sequence, Child[0]=SetNextTarget, Child[1]=TargetScoreIfWithinRange24, Child[2]=SSScoreTargetOutIfCivilian, Child[3]=TargetScoreByScaledDistance-1, Child[4]=ApplyDifficultyModifiers, Child[5]=UpdateBestTarget)
+Behaviors=(BehaviorName=TargetIsInResSoldierRange, NodeType=StatCondition, Param[0]=PotentialTargetDistance, Param[1]="<", Param[2]=24) 
+Behaviors=(BehaviorName=TargetScoreIfWithinRange24, NodeType=Selector, Child[0]=TargetScoreWithinRange24, Child[1]=AddToTargetScore_-100)
+Behaviors=(BehaviorName=TargetScoreWithinRange24, NodeType=Sequence, Child[0]=TargetIsInResSoldierRange, Child[1]=AddToTargetScore_100)

+Behaviors=(BehaviorName=ResistanceSoldierLastAction, NodeType=Sequence, Child[0]=IsLastActionPoint, Child[1]=ResistanceSoldierLastActionSelector)
+Behaviors=(BehaviorName=ResistanceSoldierLastActionSelector, NodeType=Selector, \\
	Child[0]=ResistanceSoldierMoveIfNeedCover, \\
	Child[1]=TryShootOrReloadOrOverwatch, \\
	Child[2]=ResistanceSoldierMoveTowardValidTargets, \\
	Child[3]=SkipMove)

+Behaviors=(BehaviorName=ResistanceSoldierMoveIfNeedCover, NodeType=Sequence, Child[0]=CheckIfNeedToMove, Child[1]=MoveDefensiveUnsafe)
