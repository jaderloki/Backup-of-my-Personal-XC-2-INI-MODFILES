;A configuration File
;[MultipleSitreps.X2DownloadableContentInfo_MultipleSitreps]
[SitrepsGuaranteedandMultiple.X2DownloadableContentInfo_SitrepsGuaranteedandMultiple]
;-----------------------------------------
;MULTIPLE SITREP CONFIGURATION
;Have fun! -nightninja54
;the following config has been modified by Inertia on 2023/07/12, hoping to help people unfamilar with the old Multiple Sitreps mod
;to understand how to set config for the new sitrep pulling method.
;To see the original config, please see old-config-for-reference.ini
;-----------------------------------------



;-----------------------------------------
;***************IMPORTANT*****************
;Quick summary of the new sitrep pulling process:
;The new code first did some RNG simulation to determine how many sitraps should be added to a mission using SitrepChance and SitrepAmount, and let's call this result "x".
;Then it find all sitraps from the game, put them into a list and shuffled them.
;when running through the shuffled list and checking sitrap to determine if it can be added, the mod check the following:
;   if Categories is not "On", it ignore everything and just pick the first x sitraps in the random list.
;   If Categories is "On", it first check mutually exclusiveness as determined by the group information, 
;      then it check which categories the current sitrap being checked is in. 
;       (Note:  this includes uncategorized category if you set UncategorizedInclude to "On". if you set it to "Off", it will ignore uncategorized sitraps")
;      It then find the corresponding chance set in this categories and roll a dice to determine if this sitrap should be added.
;   The algorithm keep going until x sitreps have been added or the list has been run out.
;***************IMPORTANT*****************
;-----------------------------------------


;Max amount of sitreps to be added by the mod
;Accepted Values: [1, 2, 3, 4, 5, etc.]
SitrepAmount = 3

;SitrepChance control the probability distribution of the number of sitreps being added to a mission.
;The mod first did some RNG simulation to determine how many sitraps should be added to a mission using SitrepChance and SitrepAmount, and let's call this result "x".
;minimum value for x is 0, max value is SitrepAmount. 
;if SitrepChance is 100, x will always be SitrepAmount.
;if SitrepChance is high, you are more likely to get a high x
;if SitrepChance is low, you are more likely to get a low x.
;if SitrepChance is 0, x will always be 0.
;the unit for SitrepChance is %, and range is between 0% and 100%, inclusive.
;Accepted Values: [0, 25, 50, 75, 100, etc.]
SitrepChance = 100

;Which Mission Types should we apply mutliple Sit Reps to?
;[On] Multiple Sitreps will apply
;[Off] Multiple Sitreps will not apply
GuerillaOp = "On"
SupplyRaid = "On"
Council = "On"
ResistanceOp = "On"
LandedUFO = "On"
Retaliation = "On"
AlienNetwork = "Off"

;Do you want to add group and category constraint to the sitrep pulling process?
;[On]  Mod pick the first x sitraps that satisfy map requirement in the random list that satisfy the group and categories constraint.
;[Off] Mod pick the first x sitraps that satisfy map requirement in the random list, ignoring everything else.
;-----------------------------------------
;Note: map requirement is inherent to specific map/plot and is not controlled by this mod.
;-----------------------------------------
Categories = "On"

;Do you want to use the new sitrep pulling method?(default value is "True")
;If you set it to "False", it will use the old pulling method in Nightninja's mod, 
;which is basically keep rolling until you had reached 100 times and just gave up. 
;However I did make some fix to Nightninja's code so it should have less tricky bug given extreme chance like 2% or 99%.
;Please see old-config-for-reference.ini for a copied template from the Nightninja's mod for how to set config for the old pulling method.
UsingNewSitrepPullingMethod = "True"

;-----------------------------------------
;CATEGORIES - Instructions
;Categories allow you to specify different probabilities for the selection of various types of sitreps when the mod runs through the shuffled list once.
;CatNActive
;[On]  
;The new pulling method will roll a dice to determine if a sitrep in Category N should be added to the mission when it's the sitrep's turn. 
;This decision is based on CatNChance.
;[Off] 
;The new pulling method will skip any sitrep in this category N.
;Note: The new pulling method assumes that a sitrep can exist in a maximum of one category.
;-----------------------------------------


;Please note:
;10 Categories are included for your use.
;You do not need to use all 10.
;You can find a nice list of sitreps name from various mod for use in XCom_Sitrep_Categories.ini in Nightninja's old multiple sitreps mod discussion page here:
;https://steamcommunity.com/workshop/filedetails/discussion/2068573223/2518023667600858057/
;-----------------------------------------

;Sitrep Category 1
Cat1Active = "On"
Cat1Amount = 1; <---CatNAmount is NOT used in the new sitrep pulling method
Cat1Chance = 100
;"MOCXRookies" is a sitrep added by the "MOCX Initiative" mod, it will only appear if you have that mod installed.
+Cat1 = "MOCXRookies"
;+Cat1 = "Example Sitrep 2"

;Sitrep Category 2
Cat2Active = "On"
Cat2Amount = 1; <---CatNAmount is NOT used in the new sitrep pulling method
Cat2Chance = 5; <---CatNChance is the chance of a sitrep in this category being added to the mission when it's the sitrep's turn.
;using default value in this config, note that by default there are 12 sitrep in Cat2 and assume Cat2Chance = 5, 
;we can calculate the chance of at least 1 Cat2 sitrep being added to a qualified mission = 1-(1-5%)^12=46%
;these 12 sitreps below are vanilla sitreps for your convenience
;-----------------------------------------
;Advent Forces Presence
+Cat2 = "ShowOfForce"
+Cat2 = "PsionicStorm"
+Cat2 = "Savage"
+Cat2 = "AutomatedDefenses"

;Miscellaneous
+Cat2 = "Surgical"
+Cat2 = "LootChests"
+Cat2 = "HighExplosives"
+Cat2 = "ResistanceContacts"

+Cat2 = "StealthInsertion"
+Cat2 = "LowProfile"
+Cat2 = "ShadowSquad"
+Cat2 = "LocationScout"

;+Cat2 = "Example Sitrep 1"
;+Cat2 = "Example Sitrep 2"

;Sitrep Category 3
Cat3Active = "Off"
Cat3Amount = 1
Cat3Chance = 100
;+Cat3 = "Example Sitrep 1"
;+Cat3 = "Example Sitrep 2"

;Sitrep Category 4
Cat4Active = "Off"
Cat4Amount = 1
Cat4Chance = 100
;+Cat4 = "Example Sitrep 1"
;+Cat4 = "Example Sitrep 2"

;Sitrep Category 5
Cat5Active = "Off"
Cat5Chance = 100
Cat5Amount = 1
;+Cat5 = "Example Sitrep 1"
;+Cat5 = "Example Sitrep 2"

;Sitrep Category 6
Cat6Active = "Off"
Cat6Amount = 1
Cat6Chance = 100
;+Cat6 = "Example Sitrep 1"
;+Cat6 = "Example Sitrep 2"

;Sitrep Category 7
Cat7Active = "Off"
Cat7Amount = 1
Cat7Chance = 100
;+Cat7 = "Example Sitrep 1"
;+Cat7 = "Example Sitrep 2"

;Sitrep Category 8
Cat8Active = "Off"
Cat8Amount = 1
Cat8Chance = 100
;+Cat8 = "Example Sitrep 1"
;+Cat8 = "Example Sitrep 2"

;Sitrep Category 9
Cat9Active = "Off"
Cat9Amount = 1
Cat9Chance = 100
;+Cat9 = "Example Sitrep 1"
;+Cat9 = "Example Sitrep 2"

;Sitrep Category 10
Cat10Active = "Off"
Cat10Amount = 1
Cat10Chance = 100
;+Cat10 = "Example Sitrep 1"
;+Cat10 = "Example Sitrep 2"

;-----------------------------------------
;UNCATEGORIZED SITREPS - Instructions
;-----------------------------------------
;Please note:
;This bucket will catch any uncategorized sitreps.
;You may configure how these are treated here. 
;-----------------------------------------
;INCLUDE
;Do you want Uncategorized Sitreps included?
;Accepted Values: [On, Off]
;-----------------------------------------
;AMOUNT
;How many Sitreps can be pulled from this category? 
;Accepted Values: [1, 2, 3, etc.]
;-----------------------------------------
;CHANCE
;Sitreps from this category will appear % of the time; between 1% and 100%.
;Accepted Values: [25, 50, 75, 100, etc.]
;-----------------------------------------

;Uncategorized Sitreps
UncategorizedInclude = "Off"
UncategorizedAmount = 1
UncategorizedChance = 2

;-----------------------------------------
;GROUPS - Instructions
;Groups will check if a particular type of sitrep has already been rolled
;Each sitrep in a group is mutually exclusive with the others in the same group
;-----------------------------------------
;ACTIVE
;Do you want this group included?
;Accepted Values: [On, Off]
;SITREPS (+Cat)
;What Sitreps are part of this group?
;Include any base game or modded sitreps.
;Accepted Values: ["Example Sitrep1", etc.]
;-----------------------------------------
;Please note:
;10 Groups are included for your use.
;You do not need to use all 10.
;-----------------------------------------

;Sitrep Group 1
Group1Active = "On"
+Group1 = "PsionicStorm"
+Group1 = "AutomatedDefenses"
+Group1 = "ShowOfForce"
+Group1 = "Savage"
+Group1 = "MOCXRookies"

;Sitrep Group 2
Group2Active = "Off"
;+Group2 = "Example Sitrep 1"
;+Group2 = "Example Sitrep 2"

;Sitrep Group 3
Group3Active = "Off"
;+Group3 = "Example Sitrep 1"
;+Group3 = "Example Sitrep 2"

;Sitrep Group 4
Group4Active = "Off"
;+Group4 = "Example Sitrep 1"
;+Group4 = "Example Sitrep 2"

;Sitrep Group 5
Group5Active = "Off"
;+Group5 = "Example Sitrep 1"
;+Group5 = "Example Sitrep 2"

;Sitrep Group 6
Group6Active = "Off"
;+Group6 = "Example Sitrep 1"
;+Group6 = "Example Sitrep 2"

;Sitrep Group 7
Group7Active = "Off"
;+Group7 = "Example Sitrep 1"
;+Group7 = "Example Sitrep 2"

;Sitrep Group 8
Group8Active = "Off"
;+Group8 = "Example Sitrep 1"
;+Group8 = "Example Sitrep 2"

;Sitrep Group 9
Group9Active = "Off"
;+Group9 = "Example Sitrep 1"
;+Group9 = "Example Sitrep 2"

;Sitrep Group 10
Group10Active = "Off"
;+Group10 = "Example Sitrep 1"
;+Group10 = "Example Sitrep 2"

;-----------------------------------------

;-----------------------------------------
;Comment by Inertia:
;From my testing, the original multiple sitrep mod by Nightninja54 has some weired interaction with the lost that cause very high out of control chance of the lost sitrep.
;Removing the lost with "WotC Without The Lost" Mod and remove most abandond city map plot should mostly avoid the problem.
;Not removing abandond city map plot is ok, but there will be mission happening in abandond city with advent force but no lost.
;find this file   steamapps\common\XCOM 2\XCom2-WarOfTheChosen\XComGame\Config\DefaultPlots.ini
;add a ";" in front of the following lines:
;arrPlots=(MapName="Plot_ABN_SupplyExtract_Waterfront", strType="Abandoned", ObjectiveTags[0]="SupplyExtraction")
;arrPlots=(MapName="Plot_ABN_SupplyExtract_ElTrain", strType="Abandoned", ObjectiveTags[0]="SupplyExtraction")
;arrPlots=(MapName="Plot_ABN_Guerilla_Waterfront_01", strType="Abandoned", ObjectiveTags[0]="GuerillaOps")
;arrPlots=(MapName="Plot_ABN_Guerilla_Waterfront_02", strType="Abandoned", ObjectiveTags[0]="GuerillaOps")
;arrPlots=(MapName="Plot_ABN_Guerilla_ElTrain_01", strType="Abandoned", ObjectiveTags[0]="GuerillaOps")
;arrPlots=(MapName="Plot_ABN_Guerilla_ElTrain_02", strType="Abandoned", ObjectiveTags[0]="GuerillaOps")
;arrPlots=(MapName="Plot_ABN_Sabotage_ElTrain", strType="Abandoned", ObjectiveTags[0]="DestroyTransmitter")
;arrPlots=(MapName="Plot_ABN_Sabotage_Waterfront", strType="Abandoned", ObjectiveTags[0]="DestroyTransmitter")

;the following note about the lost is from the original config file by nightninja54
;Please note:
;You should include lost sitreps in atleast one category.
;The game expects certain mission schedules to be connected to these sitreps.
;If you do not want to play with lost, I recommend Atrocious' "WotC Without The Lost" Mod
;https://steamcommunity.com/sharedfiles/filedetails/?id=1157127420&searchtext=lost

 