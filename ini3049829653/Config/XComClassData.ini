[XComGame.X2SoldierClass_DefaultClasses]
+SoldierClasses="SparkBreacher"
+SoldierClasses="SparkDefender"
+SoldierClasses="SparkTempest"
;+SoldierClasses="SparkSignal"

[WOTCMoreSparkWeapons.X2DownloadableContentInfo_WOTCMoreSparkWeapons]
+AffectClasses = SparkBreacher
+AffectClasses = SparkDefender
+AffectClasses = SparkTempest
;+AffectClasses = SparkSignal

+AbilitiesToGrant = "IRI_EntrenchProtocol_Passive"
-ProtocolSuiteHackingBonus = 30
+ProtocolSuiteHackingBonus = 0

;-------------
;SparkBreacher Shotgun
;--------------
[SparkBreacher X2SoldierClassTemplate]
bMultiplayerOnly=0
ClassPoints=4
IconImage="img:///KPPBreacherIcons.class_SparkBreacher"
NumInForcedDeck=0
NumInDeck=0
KillAssistsPerKill=4
+SquaddieLoadout="SquaddieSparkBreacher1"
;+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="iri_sparkcannon")
+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="kpp_autopulser")

;+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="sparkrifle")
+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="kpp_sparkshotgun")
-AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="sparkbit")

+AllowedArmors="spark"
; Allow them to gain individual Soldier AP and spend it in the training center
+bAllowAWCAbilities=1
; SPARKs don't have combat intelligence to multiply their AP gains so I set this value 1 AP higher than normal soldiers
; The new SPARK tree also has a significantly higher amount of abilities, it's more like a faction hero than a normal soldier
+BaseAbilityPointsPerPromotion=4

bIgnoreInjuries=1
bUniqueTacticalToStrategyTransfer=1
bHideInCharacterPool=0
RequiredCharacterClass="SparkSoldier"
+bCanHaveBonds=false
+FavoredClasses=WOTC_APA_Specialist
+UnfavoredClasses=SparkBreacher


;This command removes all lines with "SoldierRanks"
!SoldierRanks=()
 
; And now we re-add the SoldierRanks with our custom ability tree
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_KPP_AssaultChassis")), \\
							(AbilityType=(AbilityName="KineticStrike")), \\
							(AbilityType=(AbilityName="Overdrive")), \\
							(AbilityType=(AbilityName="WOTC_KPP_AutoPulser")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=10), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=2), \\
					(StatType=eStat_CombatSims,	StatAmount=1), \\
				)	)


; corporal
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_KPP_AdaptiveAiming",			ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_KPP_DirectiveStrike")), \\
							(AbilityType=(AbilityName="WOTC_KPP_ShelterProtocol")), \\
							(AbilityType=(AbilityName="WOTC_KPP_EnhancedFiring")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=3), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=2), \\
				)	)

; sergeant
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_KPP_EnhancedShotgun")), \\
							(AbilityType=(AbilityName="BrawlerProtocol")), \\
							(AbilityType=(AbilityName="WOTC_KPP_ShieldingSystem")), \\
							(AbilityType=(AbilityName="WOTC_KPP_LaserPulser")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=3), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=2), \\
				)	)

; lieutenant
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_APA_Charge",					ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_KPP_ShatteringStrike")), \\
							(AbilityType=(AbilityName="Reboot")), \\
							(AbilityType=(AbilityName="WOTC_KPP_RapidPulser",				ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=3), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)

; captain
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_KPP_SlugRound",				ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_KPP_AdaptiveStrike")), \\
							(AbilityType=(AbilityName="WOTC_KPP_CriticalSensors")), \\
							(AbilityType=(AbilityName="WOTC_KPP_PulserOvercharge")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=5), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)

; major
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="Untouchable")), \\
							(AbilityType=(AbilityName="WOTC_KPP_ReactiveSystems")), \\
							(AbilityType=(AbilityName="WOTC_KPP_SystemOverclock")), \\
							(AbilityType=(AbilityName="WOTC_KPP_PlasmaPulser")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=2), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)
; colonel
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_KPP_TerrorProtocol",				ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_KPP_ObliterationProtocol")), \\
							(AbilityType=(AbilityName="WOTC_KPP_EnhancedSystems")), \\
							(AbilityType=(AbilityName="WOTC_KPP_OverloadPulser",				ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=5), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)
	
;----------
;SparkGuardian (Defender) HMG/Shield
;---------
[SparkDefender X2SoldierClassTemplate]
bMultiplayerOnly=0
ClassPoints=4
IconImage="img:///KPPDefenderIcons.class_SparkDefender"
NumInForcedDeck=0
NumInDeck=0
KillAssistsPerKill=4
+SquaddieLoadout="SquaddieSparkDefender1"
;+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="iri_sparkflamer")
+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="spark_shield")
;+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="iri_kinetic_strike_module")
;+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="chw_sparkheavyrifle")
+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="sparkrifle")
-AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="sparkbit")

+AllowedArmors="spark"
; Allow them to gain individual Soldier AP and spend it in the training center
+bAllowAWCAbilities=1
; SPARKs don't have combat intelligence to multiply their AP gains so I set this value 1 AP higher than normal soldiers
; The new SPARK tree also has a significantly higher amount of abilities, it's more like a faction hero than a normal soldier
+BaseAbilityPointsPerPromotion=4

bIgnoreInjuries=1
bUniqueTacticalToStrategyTransfer=1
bHideInCharacterPool=0
RequiredCharacterClass="SparkSoldier"
+bCanHaveBonds=false
+FavoredClasses=WOTC_APA_Specialist
+UnfavoredClasses=Spark
 
;This command removes all lines with "SoldierRanks"
!SoldierRanks=()
 
; And now we re-add the SoldierRanks with our custom ability tree
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_CHW_GuardianChassis")), \\
							(AbilityType=(AbilityName="WOTC_CHW_SlopedArmor")), \\
							(AbilityType=(AbilityName="WOTC_CHW_EmergencyKit")), \\
							(AbilityType=(AbilityName="WOTC_CHW_ShieldBash")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=2), \\
					(StatType=eStat_CombatSims,	StatAmount=1), \\
				)	)


; corporal
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_CHW_DisablingShot")), \\
							(AbilityType=(AbilityName="WOTC_CHW_DeployableCover")), \\
							(AbilityType=(AbilityName="WOTC_CHW_SmokeAndMirrors")), \\
							(AbilityType=(AbilityName="WOTC_CHW_DeepPockets")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=2), \\
				)	)

; sergeant
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_CHW_AutomatedThreatAssessment")), \\
							(AbilityType=(AbilityName="WOTC_APA_SuppressiveFire", 	ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_CHW_ChemicalAdvancements")), \\
							(AbilityType=(AbilityName="RapidFire", 	ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=1), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=2), \\
				)	)

; lieutenant
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_APA_FlushEmOutShot",				ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_APA_PinEmDown",				ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_CHW_ArtificialFortitude")), \\
							(AbilityType=(AbilityName="Implacable")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)

; captain
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_CHW_SurvivalProtocol")), \\
							(AbilityType=(AbilityName="WOTC_CHW_BodyShield")), \\
							(AbilityType=(AbilityName="WOTC_CHW_ValkyrieProtocol")), \\
							(AbilityType=(AbilityName="WOTC_CHW_TargetingBias")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)

; major
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_CHW_FightorFlight")), \\
							(AbilityType=(AbilityName="WOTC_CHW_DefensiveAction")), \\
							(AbilityType=(AbilityName="WOTC_CHW_ReassuringSolace")), \\
							(AbilityType=(AbilityName="WOTC_CHW_ExpandedStorage",        ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=1), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)
; colonel
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_CHW_DominatingPresence")), \\
							(AbilityType=(AbilityName="WOTC_CHW_UnbreakableDefense")), \\
							(AbilityType=(AbilityName="WOTC_CHW_ProjectNano")), \\
							(AbilityType=(AbilityName="WOTC_CHW_ClampdownProtocol")) \\
							), \\
			   aStatProgression=( \\
						(StatType=eStat_HP,			StatAmount=0), \\
						(StatType=eStat_Offense,	StatAmount=2), \\
						(StatType=eStat_Mobility,	StatAmount=0), \\
						(StatType=eStat_Dodge,		StatAmount=1), \\
						(StatType=eStat_Hacking,	StatAmount=1), \\
				)	)
	
;---------
;SparkTempest rifle/bit
;----------
[SparkTempest X2SoldierClassTemplate]
bMultiplayerOnly=0
ClassPoints=4
IconImage="img:///UILibrary_DLC3Images.class_spark"
NumInForcedDeck=0
NumInDeck=0
KillAssistsPerKill=4
+SquaddieLoadout="SquaddieSparkTempest1"
+AllowedWeapons=(SlotType=eInvSlot_PrimaryWeapon, WeaponType="sparkrifle")
+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="sparkbit")
+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="gremlin")
+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="iri_kinetic_strike_module")
+AllowedWeapons=(SlotType=eInvSlot_SecondaryWeapon, WeaponType="holotargeter")
+AllowedArmors="spark"
; Allow them to gain individual Soldier AP and spend it in the training center
+bAllowAWCAbilities=1
; SPARKs don't have combat intelligence to multiply their AP gains so I set this value 1 AP higher than normal soldiers
; The new SPARK tree also has a significantly higher amount of abilities, it's more like a faction hero than a normal soldier
+BaseAbilityPointsPerPromotion=4

bIgnoreInjuries=1
bUniqueTacticalToStrategyTransfer=1
bHideInCharacterPool=0
RequiredCharacterClass="SparkSoldier"
+bCanHaveBonds=false
+FavoredClasses=WOTC_APA_Specialist
+UnfavoredClasses=Spark

;====================================================================================================================================================================================


;This command removes all lines with "SoldierRanks"
!SoldierRanks=()
 
; And now we re-add the SoldierRanks with our custom ability tree
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_MST_Palisade")), \\
							(AbilityType=(AbilityName="Suppression",  ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="RepairMW", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)), \\
							(AbilityType=(AbilityName="BugOutEvac")) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=5), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=40), \\
					(StatType=eStat_CombatSims,	StatAmount=1), \\
				)	)


; corporal
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="Phantom")), \\
							(AbilityType=(AbilityName="WOTC_APA_PinEmDown")), \\
							(AbilityType=(AbilityName="MedicalProtocol",  ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)), \\
							(AbilityType=(AbilityName="CombatProtocol",  ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=3), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=5), \\
				)	)

; sergeant
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_APA_Blindside",					ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="WOTC_APA_CombatAwareness",  ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="ThreatAssessment", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)), \\
							(AbilityType=(AbilityName="Bombardment", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=3), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=10), \\
				)	)

; lieutenant
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_APA_Stalker")), \\
							(AbilityType=(AbilityName="HunterProtocol", ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="RapidRepair",  ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="Rainmaker", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=2), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=5), \\
				)	)

; captain
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_APA_Ghost")), \\
							(AbilityType=(AbilityName="WOTC_APA_Phase")), \\
							(AbilityType=(AbilityName="RevivalProtocol",  ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)), \\
							(AbilityType=(AbilityName="Neutralize", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=2), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=0), \\
					(StatType=eStat_Hacking,	StatAmount=5), \\
				)	)

; major
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="Shadowstrike", ApplyToWeaponSlot=eInvSlot_Unknown)), \\
							(AbilityType=(AbilityName="WOTC_APA_Sentry", ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="HeavyRepair", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)), \\
							(AbilityType=(AbilityName="Overclock", ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=5), \\
				)	)
; colonel
+SoldierRanks=(AbilitySlots=((AbilityType=(AbilityName="WOTC_APA_Fade")), \\
							(AbilityType=(AbilityName="RapidFire",					ApplyToWeaponSlot=eInvSlot_PrimaryWeapon)), \\
							(AbilityType=(AbilityName="RestorativeMist",  ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)), \\
							(AbilityType=(AbilityName="CapacitorDischarge",  ApplyToWeaponSlot=eInvSlot_SecondaryWeapon)) \\
							), \\
			   aStatProgression=( \\
					(StatType=eStat_HP,			StatAmount=0), \\
					(StatType=eStat_Offense,	StatAmount=1), \\
					(StatType=eStat_Will,		StatAmount=0), \\
					(StatType=eStat_Mobility,	StatAmount=0), \\
					(StatType=eStat_Dodge,		StatAmount=1), \\
					(StatType=eStat_Hacking,	StatAmount=5), \\
				)	)