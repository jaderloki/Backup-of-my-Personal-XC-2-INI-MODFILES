[FTBMocxUsePoolClass.XComGameState_HeadquartersDarkXCOM_Override]
; Modify at your own risk. 
; This is the maximum number of promotions MOCX units can be hired in at.
; As months tick by, MOCX units are recruited at higher ranks, and this is the CAP for which rank they can be recruited at. 
; Raising this will make late game MOCX more difficult. 
; Lowering this will make late game MOCX easier.
MaxRecruitmentBonusRanks = 3

; Boolean flag to allow for MOCX units to be recruited as Brigadier rank units
; Requries editing the Dark Classes manually to ADD a Brigadier rank
bDarkClassesAllowBrigadierRanks = false

; This flag will modify the squad fill rules to restrict it to only 1 Zealot or Phantom or Reclaimed per squad
bRestrictDarkHeroUnitSpawns = false

; These are special unit spawns that MOCX can use to either pad out or enhance spawned pods.
; Only touch this if you know what you are doing.

; MOCX MECs
+MocxSpecialSpawns = (\\
	TemplateName = AdvMec_MOCX,\\
	MinForceLevel = 0,\\
	MaxForceLevel = 999,\\
	RandomSpawnChance = 50,\\
	bUniqueSpawn = false,\\
	bRequiresAdvancedMecs = true,\\
	bExcludedAdvancedMecs = false\\
)

; Currently special spawns are allowed to bloat the pod size to +1 (this is the default behavior of OG MOCX and its MECs)
; Enabling this flag will limit the pod size to the configured max squad size, removing the "bonus" unit addition
bMocxSpecialSpawnsCountTowardsPodSize = false

[FTBMocxUsePoolClass.X2DownloadableContentInfo_FTBMocxUsePoolClass]
; If set to false, MOCX will always spawn with ADVENT nationality
; If set to true, MOCX will spawn as EXALT if the MOCX as EXALT mod is present
bAllowMocxSpawnAsExalt = true
; If set to true, MOCX will always spawn with EXALT nationality
bForceMocxSpawnAsExalt = false

; Any Dark Event listed here will start becoming active once MOCX becomes active, and will cease to be available once MOCX is defeated.
;+DarkEventsTiedToMocx=""

; In base MOCX, the MOCX rifles are all given the "Flat" damage table, which is what regular enemies get.
; The problem is, that is ther rifle that is then given back to XCOM. Which sucks, because now the fancy new dark rifle
; now has crap aim becaue it has no range bonus (or, alternatively, amazing aim at long distances because it has no penalties)
; This fixes it and will swap the range table to Medium like every other assault rifle.
; NOTE: This will probably make MOCX Specialists scarier too as they become more accurate.

; Turn it OFF (false) to revert to original behavior.
; Shout out to DerAva for bringing this to my attention.
bSwapMocxRifleToMediumRangeTable = true

; Reward soldier rank scale. This array controls the rank of the soldier XCOM recieves based upon the rank of the MOCX soldier.
; By changing this scale, reward soldiers can be reduced in rank so that XCOM isn't given OP "freebies".
; This is configured for the "default" MOCX experience, which is you get an equivalent soldier of the rank you capture.
RewardSoldierRank[0] = 0
RewardSoldierRank[1] = 1
RewardSoldierRank[2] = 2
RewardSoldierRank[3] = 3
RewardSoldierRank[4] = 4
RewardSoldierRank[5] = 5
RewardSoldierRank[6] = 6
RewardSoldierRank[7] = 7

[FTBMocxUsePoolClass.XGCharacterGenerator_DarkXCom_Override]
;-------------------------------------------------------------------
;  Base MOCX Configuration OVERRIDES
;-------------------------------------------------------------------
;  The following base MOCX configuration variables are OVERRIDDEN and will no longer work.
;
;  >>>> OVERRIDES MOCX CONFIGS <<<<
;  >> XComBossData.ini.UseSpecificCharacter
;  >> XComBossData.ini.UseFullArmorAppearance
;  >> XComDarkXCom.ini.SoldiersOnly
;  >> XComDarkXCom.ini.DarkVIPsOnly
;  >> XComDarkXCom.ini.UseEntireAppearance
;  >> XComDarkXCom.ini.RandomizePool
;  >>>>>>>>>>>>>>><<<<<<<<<<<<<<<<
;
;  All other configs in base MOCX are NOT CHANGED and need to be configured there.
;
;-------------------------------------------------------------------
;  Explanation of Character Cosmetics Rules
;-------------------------------------------------------------------
;  bUseCharacterPoolClass:         True to use the class mapping feature, false to turn it off
;  bForceCharacterPoolClass:       True to ONLY allow units with matching classes to be used otherwise it does a random generation,
;                                  false to pull a random unit from the pool if no matching class is found
;  bRookiesAreWildcardClass:       True to allow Rookie character pool units to be used for all classes when using character pool classes, false to not allow Rookies in class matching
;  bUseCharacterPoolAppearance:    True to use the appearance from the character pool, false to use the default uniforms or random appearances
;  bUseCharacterPoolBackstory:     True to inherit the character pool backstory when soldier joins XCOM, false to keep the MOCX capture text for backstory
;  bUseCharacterPoolNationality:   True to inherit the character pool nationality for BOTH the MOCX soldeier AND the XCOM capture. This overrides the ADVENT/EXALT default nationality for CP units only.
;  bUseLeaderSpecificUnit:         True to use the specially designed character pool unit for the leader, false to use a random unit
;  bUseLeaderSpecificAppearance:   True to use the leader specific appearance, false to use the default appearance
;  bUseCharacterPoolOnly:          True to attempt to load from the character pool, and only use random units when empty, false to ignore the character pool completely
;  bUseRandomRolls:                True to allow randomly generated units, false to ignore randomly generated units unless the character pool is empty
;  bUseSoldiers:                   True to allow soldiers in the character pool to be used, false to disallow soldiers from the character pool
;  bUseDarkVIPs:                   True to allow Dark VIPs in the character pool to be used, false to disallow Dark VIPs from the character pool
;  MixedPoolRandomThreshold:       % chance to roll a random class when in a mixed state, whole number between 0 - 100. 0 = NEVER Roll Random, 100 = ALWAYS Roll Random
;  MaleToFemaleRatio:              % chance to generate a male or female MOCX unit, whole number, 0 = all women, 100 = all men, 
;                                  0 - 100 is ratio between men and women (larger numbers means more men), <0 or >100 is default behavior
;
;
;  If BOTH bUseCharacterPoolOnly and bUseRandomRolls are turned on, enter into a mixed state which will have a chance to roll random or use character pool entries
;
;  If NEITHER bUseCharacterPoolOnly or bUseRandomRolls are turned on, it will default to random generation
;
;  If the Character Pool is configured to NOT be used, then it will default to random generation
;
;  If bUseCharacterPoolClass is turned on and there are no CharacterPoolCounterparts configured below, it will use the entire character pool at random as if this was turned off
;
;  If NEITHER bUseSoldiers or bUseDarkVIPs are turned on, it will NOT load any characters from the character pool
;
;  If the character pool look is corrupt or invalid, it will regenerate the unit with a random appearance
;
;  If BOTH bForceCharacterPoolClass AND bRookiesAreWildcardClass are turned on, it will allow Rookies to be pulled from the character pool for all classes
;  but it will NOT randomly select a non-Rookie/non-matching character pool unit for the class
;
;  Hero units always have bForceCharacterPoolClass set to TRUE and bRookiesAreWildcards set to FALSE regardless of the global rules.
;  This is on purpose and cannot be configured differently because Hero cosmetics and regular soldier cosmetics do not play nice.
;
;  MaleToFemaleRatio is referenced in BOTH pulling units from the Character Pool AND generating random MOCX units. 
;  This will allow for the scenario where all MOCX units to be one gender and, if using another mod like Gender Bias, 
;  all traditional soldiers in your barracks are the opposite gender.
;
;
;  --------------------------- ALLIES UNKNOWN INTEGRATION ----------------------
;
;  !!!!! ONLY ACTIVE WHEN ALLIES UNKNOWN INSTALLED REGARDLESS OF SETTINGS  !!!!!
;
;  bAllowAlliesUnknown:            True to allow Allies Unknown aliens into MOCX, false to keep them human only
;  bForceAlliesUnknownOnly:        True to force ONLY Allies Unknown aliens into MOCX, false to allow a blend of humans and aliens
;  bUnknownAlliesAsDarkVIPs:       True to have the system treat Allies Unknown aliens as Dark VIPs for MOCX purposes, false to keep default soldier only behavior
;  AlliesUnknownRandomThreshold:   % chance to roll a random aliens when in a mixed state, whole number between 0 - 100. 0 = Humans ONLY, 100 = Allies Unknown ONLY
;
;  If bAllowAlliesUnknown is TRUE and bForceAlliesUnknownOnly is FALSE then it will generate MOCX units in a blended state
;
;  If bUnknownAlliesAsDarkVIPs is TRUE, then an Allies Unknown soldier in the character pool can be chosen when bUseDarkVIPs is TRUE and bUseSoldiers is FALSE even though the only
;  valid option for the unit in the character pool is Soldier
;
;  If MaleToFemaleRatio is configured, Allies Unknown units may or may not respect the gender assignment due to how the individual AU Character Generator is configured and whether
;  that generator respects the eForceGender parameter or not
;
;-------------------------------------------------------------------
;---------------------
; Cosmetic Rules
;---------------------
+Rules = (\\
  bUseCharacterPoolClass = true,\\
  bForceCharacterPoolClass = false,\\
  bRookiesAreWildcardClass = true,\\
  bUseCharacterPoolAppearance = true,\\
  bUseCharacterPoolBackstory = false,\\
  bUseCharacterPoolNationality = false,\\
  bUseLeaderSpecificUnit = false,\\
  bUseLeaderSpecificAppearance = false,\\
  bUseCharacterPoolOnly = true,\\
  bUseRandomRolls = false,\\
  bUseSoldiers = true,\\
  bUseDarkVIPs = true,\\
  MixedPoolRandomThreshold = 50,\\
  bAllowAlliesUnknown = true,\\
  bForceAlliesUnknownOnly = false,\\
  bUnknownAlliesAsDarkVIPs = true,\\
  AlliesUnknownRandomThreshold = 10,\\
  MaleToFemaleRatio = -1\\
)

;-------------------------------------------------------------------
;  Explanation of Character Pool Counterpart Configuration
;-------------------------------------------------------------------
;  Configuration to allow for specific character pool classes to
;  map cosmetics to corresponding Dark Classes.  If a character pool 
;  unit is available for use, one of those units will be chosen at
;  random to be used, otherwise it will pull from the full list at
;  random unless configurd otherwise.
;
;  Configuring more than one class to the same Dark Class will randomize
;  from among ALL units that match those classes.
;
;  Cannot be used to assign the MOCX Leader.  That is handled special by MOCX itself.
;
;  To add a class for mapping to a Dark Class, just add the line:
;  +CharacterPoolCounterparts = (DarkSoldierClass = "", CounterpartClass = "")
;
;  DarkSoldierClass: Name of the Dark Class to map to
;  CounterpartClass: Name of the Class to map from.
;
;  For Hero units, the CounterpartClass needs to be equivalent to the correct
;  FactionHeroTemplateName configured below (i.e. SkirmisherSoldier instead of Skirmisher)
;
;-------------------------------------------------------------------
;---------------------
; Base Game Classes
;---------------------
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkRanger", CounterpartClass = "Ranger")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkSniper", CounterpartClass = "Sharpshooter")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkSpecialist", CounterpartClass = "Specialist")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkGrenadier", CounterpartClass = "Grenadier")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkPsiAgent", CounterpartClass = "PsiOperative")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkReclaimed", CounterpartClass = "SkirmisherSoldier")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkZealot", CounterpartClass = "TemplarSoldier")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkPhantom", CounterpartClass = "ReaperSoldier")
+CharacterPoolCounterparts = (DarkSoldierClass = "SPARK", CounterpartClass = "SPARKSoldier")
+CharacterPoolCounterparts = (DarkSoldierClass = "Proxian", CounterpartClass = "Proxian")

;---------------------
; Proficiency Classes
;---------------------
; Ranger Equivalents
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkRanger", CounterpartClass = "WOTC_APA_Assault")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkRanger", CounterpartClass = "WOTC_APA_DirectorKelly")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkRanger", CounterpartClass = "WOTC_APA_Phalanx")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkRanger", CounterpartClass = "WOTC_APA_FlameAssault")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkRanger", CounterpartClass = "LightRanger")

; Psi Agent Equivalents
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkPsiAgent", CounterpartClass = "WOTC_APA_Medic")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkPsiAgent", CounterpartClass = "LightPsiOperative")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkPsiAgent", CounterpartClass = "LightPsiOperative")

; Grenadier Equivalents
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkGrenadier", CounterpartClass = "WOTC_APA_Marine")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkGrenadier", CounterpartClass = "WOTC_APA_Sapper")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkGrenadier", CounterpartClass = "MrC_APA_CombatEngineer")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkGrenadier", CounterpartClass = "LightGrenadier")

; Sniper Equivalents
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkSniper", CounterpartClass = "WOTC_APA_Marksman")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkSniper", CounterpartClass = "LightSharpshooter")

; Specialist Equivalents
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkSpecialist", CounterpartClass = "WOTC_APA_Specialist")
+CharacterPoolCounterparts = (DarkSoldierClass = "DarkSpecialist", CounterpartClass = "LightSpecialist")

; Listing out the faction hero template types
+FactionHeroTemplateNames = "ReaperSoldier"
+FactionHeroTemplateNames = "SkirmisherSoldier"
+FactionHeroTemplateNames = "TemplarSoldier"
+FactionHeroTemplateNames = "SPARKSoldier"
+FactionHeroTemplateNames = "Proxian"

; Quick Reference List of Dark Hero templates
+SkirmisherDarkHeroTemplate = "DarkReclaimed"
+TemplarDarkHeroTemplate = "DarkZealot"
+ReaperDarkHeroTemplate = "DarkPhantom"
+SparkDarkHeroTemplate = "SPARK"
+ProxianDarkHeroTemplate = "Proxian"

;-----------------------
; Debug Level
;-----------------------
; Flag determining logging levels for debugging purposes.  Only touch if you know what you are doing.
+bVerboseDebugLogging = false

[FTBMocxUsePoolClass.X2EventListener_MOCX_AbilityPoints_Override]
;  --------------------------- Musashi's RPG Overhaul INTEGRATION ----------------------
;
;  !!!!! ONLY ACTIVE WHEN RPG OVERHAUL INSTALLED REGARDLESS OF SETTINGS  !!!!!
;
;  These are explicit OVERRIDES to the above rules for a specific mod which uses a custom sodlier class
;  instead of standard soldier classes.  To disable an override being applied, either turn bForceSingleClassCounterpart
;  to FALSE or comment out the entire entry.  
;
;  (Also has support for custom SPARK classes if anyone ever makes a MOCX enemy mod that allows for SPARKs to be captured)
;
;-------------------------------------------------------------------
+SingleClassCounterparts = (ModName = "XCOM2RPGOverhaul", CharacterTemplateName = "Soldier", SingleClassTemplateName = "UniversalSoldier", bForceSingleClassCounterpart = true)
+SingleClassCounterparts = (ModName = "WOTC_SPARKCustomClassSupport", CharacterTemplateName = "SPARKSoldier", SingleClassTemplateName = "SparkChooseClass", bForceSingleClassCounterpart = false)

[DarkXCOMRedux.XGCharacterGenerator_DarkXCom]
; This needs to be TRUE so that Customizer+ manages ALL the outfits
UseEntireAppearance = true; 